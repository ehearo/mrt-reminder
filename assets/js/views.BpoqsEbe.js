import{d as e,q as t,p as a,s,v as l,h as n,l as o,i,x as r,y as c,z as u,A as d,F as v,k as f,o as m,c as p}from"./vendor.BPibi0h7.js";import{g as y,f as g,a as x,b}from"./utils.CJrqRp0w.js";import{_ as w,M as h,a as _,b as S}from"./components.De0vQsAo.js";import{u as j}from"./index.BIh0azAG.js";const C={class:"page-container safe-area"},k={class:"page-content"},F={class:"mb-6 relative"},V={key:0,class:"mb-6"},M={key:1,class:"space-y-3"},I={key:2,class:"text-center py-12"},O={key:3,class:"text-center py-12"},T=e({__name:"HomeView",setup(e){const b=t(""),j=t([]),T=t(""),z=y(),L=a((()=>{const e=T.value.toLowerCase().trim();return e?j.value.filter((t=>t.StationName.toLowerCase().includes(e)||t.StationCode.toLowerCase().includes(e))):j.value})),B=a((()=>{const e=z.find((e=>e.id===b.value));return(null==e?void 0:e.color)||"#000000"}));async function P(e){b.value=e,j.value=await g(e),T.value=""}let U;return s((()=>{U=window.setInterval((()=>{j.value.length>0&&(j.value=[...j.value])}),3e4)})),l((()=>{U&&window.clearInterval(U)})),(e,t)=>(m(),n("div",C,[o(h),i("main",k,[i("div",F,[r(i("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>T.value=e),type:"text",placeholder:"    \u641c\u5c0b\u7ad9\u9ede",class:"input pl-14 pr-12 placeholder:pl-1"},null,512),[[c,T.value]]),t[4]||(t[4]=i("div",{class:"absolute left-5 top-0 bottom-0 flex items-center justify-center w-4"},[i("i",{class:"fas fa-search text-gray-400"})],-1)),T.value?(m(),n("button",{key:0,onClick:t[1]||(t[1]=e=>T.value=""),class:"absolute right-4 top-0 bottom-0 flex items-center justify-center w-8"},t[3]||(t[3]=[i("i",{class:"fas fa-times text-gray-400 hover:text-gray-600"},null,-1)]))):u("",!0)]),T.value?u("",!0):(m(),n("div",V,[o(w,{lines:d(z),modelValue:b.value,"onUpdate:modelValue":t[2]||(t[2]=e=>b.value=e),onSelect:P},null,8,["lines","modelValue"])])),b.value?(m(),n("div",M,[(m(!0),n(v,null,f(L.value,(e=>(m(),p(_,{key:e.StationCode,station:e,"line-color":B.value,"next-trains":d(x)(e.StationCode),onToggleFavorite:t=>{e.StationCode}},null,8,["station","line-color","next-trains","onToggleFavorite"])))),128))])):T.value&&!L.value.length?(m(),n("div",I,t[5]||(t[5]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-search text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"\u627e\u4e0d\u5230\u7b26\u5408\u7684\u7ad9\u9ede",-1)]))):(m(),n("div",O,t[6]||(t[6]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-subway text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"\u8acb\u9078\u64c7\u6377\u904b\u8def\u7dda\u4ee5\u67e5\u770b\u5373\u6642\u8cc7\u8a0a",-1)])))]),o(S)]))}}),z={class:"page-container safe-area"},L={class:"page-content"},B={key:0,class:"space-y-3"},P={key:1,class:"text-center py-12"},U=e({__name:"FavoritesView",setup(e){const t=j(),r=a((()=>t.getFavoriteStations)),c={red:"#E3002C",blue:"#0070BD",green:"#008659",orange:"#F8B61C","":"#000000"};function u(e){const t=b(e);return c[t]}let y;return s((()=>{y=window.setInterval((()=>{r.value.length>0&&t.$patch({stations:[...t.stations]})}),3e4)})),l((()=>{y&&window.clearInterval(y)})),(e,t)=>(m(),n("div",z,[o(h),i("main",L,[r.value.length?(m(),n("div",B,[(m(!0),n(v,null,f(r.value,(e=>(m(),p(_,{key:e.StationCode,station:e,"line-color":u(e.StationCode),"next-trains":d(x)(e.StationCode)},null,8,["station","line-color","next-trains"])))),128))])):(m(),n("div",P,t[0]||(t[0]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-star text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"\u5c1a\u672a\u6536\u85cf\u4efb\u4f55\u7ad9\u9ede",-1)])))]),o(S)]))}}),q=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),A={class:"min-h-screen bg-gray-50 safe-area"},D=e({__name:"MapView",setup:e=>(e,t)=>(m(),n("div",A,[o(h),t[0]||(t[0]=i("main",{class:"metro-content"},[i("div",{class:"text-center py-12"},[i("p",{class:"text-gray-500"},"\u8def\u7dda\u5716\u529f\u80fd\u958b\u767c\u4e2d...")])],-1)),o(S)]))}),E=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{q as F,E as M,T as _};
