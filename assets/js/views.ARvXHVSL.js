import{d as e,m as t,g as a,I as s,J as l,c as n,e as o,a as i,K as r,L as c,M as u,N as d,F as v,b as m,o as f,j as p}from"./vue.vEg_Pv0G.js";import{g,f as y,c as x,d as b}from"./index.BL66J-7N.js";import{_ as w,M as h,a as S,b as _}from"./components.IGbbcoeB.js";import{u as C}from"./core.CyXx4lGz.js";const j={class:"page-container safe-area"},k={class:"page-content"},L={class:"mb-6 relative"},F={key:0,class:"mb-6"},V={key:1,class:"space-y-3"},M={key:2,class:"text-center py-12"},I={key:3,class:"text-center py-12"},O=e({__name:"HomeView",setup(e){const b=t(""),C=t([]),O=t(""),T=g(),z=a((()=>{const e=O.value.toLowerCase().trim();return e?C.value.filter((t=>t.StationName.toLowerCase().includes(e)||t.StationCode.toLowerCase().includes(e))):C.value})),B=a((()=>{const e=T.find((e=>e.id===b.value));return(null==e?void 0:e.color)||"#000000"}));async function handleLineSelect(e){b.value=e,C.value=await y(e),O.value=""}let N;return s((()=>{N=window.setInterval((()=>{C.value.length>0&&(C.value=[...C.value])}),3e4)})),l((()=>{N&&window.clearInterval(N)})),(e,t)=>(f(),n("div",j,[o(h),i("main",k,[i("div",L,[r(i("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>O.value=e),type:"text",placeholder:"    \u641c\u5c0b\u7ad9\u9ede",class:"input pl-14 pr-12 placeholder:pl-1"},null,512),[[c,O.value]]),t[4]||(t[4]=i("div",{class:"absolute left-5 top-0 bottom-0 flex items-center justify-center w-4"},[i("i",{class:"fas fa-search text-gray-400"})],-1)),O.value?(f(),n("button",{key:0,onClick:t[1]||(t[1]=e=>O.value=""),class:"absolute right-4 top-0 bottom-0 flex items-center justify-center w-8"},t[3]||(t[3]=[i("i",{class:"fas fa-times text-gray-400 hover:text-gray-600"},null,-1)]))):u("",!0)]),O.value?u("",!0):(f(),n("div",F,[o(w,{lines:d(T),modelValue:b.value,"onUpdate:modelValue":t[2]||(t[2]=e=>b.value=e),onSelect:handleLineSelect},null,8,["lines","modelValue"])])),b.value?(f(),n("div",V,[(f(!0),n(v,null,m(z.value,(e=>(f(),p(S,{key:e.StationCode,station:e,"line-color":B.value,"next-trains":d(x)(e.StationCode),onToggleFavorite:t=>{e.StationCode}},null,8,["station","line-color","next-trains","onToggleFavorite"])))),128))])):O.value&&!z.value.length?(f(),n("div",M,t[5]||(t[5]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-search text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"\u627e\u4e0d\u5230\u7b26\u5408\u7684\u7ad9\u9ede",-1)]))):(f(),n("div",I,t[6]||(t[6]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-subway text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"\u8acb\u9078\u64c7\u6377\u904b\u8def\u7dda\u4ee5\u67e5\u770b\u5373\u6642\u8cc7\u8a0a",-1)])))]),o(_)]))}}),T={class:"page-container safe-area"},z={class:"page-content"},B={key:0,class:"space-y-3"},N={key:1,class:"text-center py-12"},P=e({__name:"FavoritesView",setup(e){const t=C(),r=a((()=>t.getFavoriteStations)),c={red:"#E3002C",blue:"#0070BD",green:"#008659",orange:"#F8B61C","":"#000000"};function getLineColor(e){const t=b(e);return c[t]}let u;return s((()=>{u=window.setInterval((()=>{r.value.length>0&&t.$patch({stations:[...t.stations]})}),3e4)})),l((()=>{u&&window.clearInterval(u)})),(e,t)=>(f(),n("div",T,[o(h),i("main",z,[r.value.length?(f(),n("div",B,[(f(!0),n(v,null,m(r.value,(e=>(f(),p(S,{key:e.StationCode,station:e,"line-color":getLineColor(e.StationCode),"next-trains":d(x)(e.StationCode)},null,8,["station","line-color","next-trains"])))),128))])):(f(),n("div",N,t[0]||(t[0]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-star text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"\u5c1a\u672a\u6536\u85cf\u4efb\u4f55\u7ad9\u9ede",-1)])))]),o(_)]))}}),U=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),D={class:"min-h-screen bg-gray-50 safe-area"},E=e({__name:"MapView",setup:e=>(e,t)=>(f(),n("div",D,[o(h),t[0]||(t[0]=i("main",{class:"metro-content"},[i("div",{class:"text-center py-12"},[i("p",{class:"text-gray-500"},"\u8def\u7dda\u5716\u529f\u80fd\u958b\u767c\u4e2d...")])],-1)),o(_)]))}),H=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{U as F,H as M,O as _};
