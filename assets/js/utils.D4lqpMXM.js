import{i as s,j as a,k as t,l as n,m as o,p as i,q as S,s as j,v as e,x as r,y as c,z as u,A as O,B as l,C as f,D as R,E as B,G as m,H as L,I as G,J as d,K as g,L as p,M as D,N as h,O as T,P as b,Q as v,R as C,S as y,T as M,U as $,V as w,W,X as x,Y as H,Z as E,$ as I,a0 as N,a1 as k,a2 as q,a3 as z,a4 as A,a5 as F,a6 as J,a7 as K,a8 as P,a9 as Q,aa as U,ab as V,ac as X,ad as Y,ae as Z,af as _,ag as ss,ah as as,ai as ts,aj as ns,ak as os,al as is,am as Ss,an as js,ao as es,ap as rs,aq as cs,ar as us,as as Os,at as ls,au as fs,av as Rs,aw as Bs,ax as ms,ay as Ls,az as Gs,aA as ds,aB as gs,aC as ps,aD as Ds,aE as hs,aF as Ts,aG as bs,aH as vs,aI as Cs,aJ as ys,aK as Ms,aL as $s,aM as ws,aN as Ws,aO as xs,aP as Hs,aQ as Es,aR as Is,aS as Ns,aT as ks,aU as qs}from"./index.C_RYJaqD.js";const zs={blue:{name:"板南線",color:"#0070BD",stations:[]},red:{name:"淡水信義線",color:"#E3002C",stations:[]},green:{name:"松山新店線",color:"#008659",stations:[]},orange:{name:"中和新蘆線",color:"#F8B61C",stations:[]},"":{name:"",color:"",stations:[]}};function As(s){return s.startsWith("R")?"red":s.startsWith("BL")?"blue":s.startsWith("G")?"green":s.startsWith("O")?"orange":""}function Fs(){return Object.entries(zs).filter((([s])=>""!==s)).map((([s,a])=>({id:s,name:a.name,color:a.color})))}async function Js(s=""){var a;return s?(null==(a=zs[s])?void 0:a.stations)||[]:Object.values(zs).flatMap((s=>s.stations))}function Ks(s){var a;const t=As(s),n=null==(a=zs[t])?void 0:a.stations.find((a=>a.StationCode===s));if(!n)return[];const o=new Date,i=`${o.getHours().toString().padStart(2,"0")}:${o.getMinutes().toString().padStart(2,"0")}`,S=[];for(const j of n.Timetables)for(const s of j.Schedule)if(Qs(s))for(const a of s.Departures)a.Time>i&&S.push({Dst:a.Dst,Time:a.Time,arrivalTime:Ps(a.Time),destination:a.Dst});return S.sort(((s,a)=>s.Time.localeCompare(a.Time))).slice(0,3)}function Ps(s){const a=new Date,[t,n]=s.split(":").map(Number),o=new Date;o.setHours(t,n,0),o<a&&o.setDate(o.getDate()+1);const i=Math.floor((o.getTime()-a.getTime())/6e4);if(i<=0)return"即將到站";if(i<60)return`${i}分鐘`;return`${Math.floor(i/60)}小時${i%60}分鐘`}function Qs(s){const a=(new Date).getDay().toString();return s.Days.includes(a)}!async function(){try{const Fs=Object.assign({"../Stations/BL01.json":s,"../Stations/BL02.json":a,"../Stations/BL03.json":t,"../Stations/BL04.json":n,"../Stations/BL05.json":o,"../Stations/BL06.json":i,"../Stations/BL07.json":S,"../Stations/BL08.json":j,"../Stations/BL09.json":e,"../Stations/BL10.json":r,"../Stations/BL11.json":c,"../Stations/BL12.json":u,"../Stations/BL13.json":O,"../Stations/BL14.json":l,"../Stations/BL15.json":f,"../Stations/BL16.json":R,"../Stations/BL17.json":B,"../Stations/BL18.json":m,"../Stations/BL19.json":L,"../Stations/BL20.json":G,"../Stations/BL21.json":d,"../Stations/BL22.json":g,"../Stations/BL23.json":p,"../Stations/G01.json":D,"../Stations/G02.json":h,"../Stations/G03.json":T,"../Stations/G04.json":b,"../Stations/G05.json":v,"../Stations/G06.json":C,"../Stations/G07.json":y,"../Stations/G08.json":M,"../Stations/G09.json":$,"../Stations/G10.json":w,"../Stations/G11.json":W,"../Stations/G12.json":x,"../Stations/G13.json":H,"../Stations/G14.json":E,"../Stations/G15.json":I,"../Stations/G16.json":N,"../Stations/G17.json":k,"../Stations/G18.json":q,"../Stations/G19.json":z,"../Stations/O01.json":A,"../Stations/O02.json":F,"../Stations/O03.json":J,"../Stations/O04.json":K,"../Stations/O05.json":P,"../Stations/O06.json":Q,"../Stations/O07.json":U,"../Stations/O08.json":V,"../Stations/O09.json":X,"../Stations/O10.json":Y,"../Stations/O11.json":Z,"../Stations/O12.json":_,"../Stations/O13.json":ss,"../Stations/O14.json":as,"../Stations/O15.json":ts,"../Stations/O16.json":ns,"../Stations/O17.json":os,"../Stations/O18.json":is,"../Stations/O19.json":Ss,"../Stations/O20.json":js,"../Stations/O21.json":es,"../Stations/O50.json":rs,"../Stations/O51.json":cs,"../Stations/O52.json":us,"../Stations/O53.json":Os,"../Stations/O54.json":ls,"../Stations/R02.json":fs,"../Stations/R03.json":Rs,"../Stations/R04.json":Bs,"../Stations/R05.json":ms,"../Stations/R06.json":Ls,"../Stations/R07.json":Gs,"../Stations/R08.json":ds,"../Stations/R09.json":gs,"../Stations/R10.json":ps,"../Stations/R11.json":Ds,"../Stations/R12.json":hs,"../Stations/R13.json":Ts,"../Stations/R14.json":bs,"../Stations/R15.json":vs,"../Stations/R16.json":Cs,"../Stations/R17.json":ys,"../Stations/R18.json":Ms,"../Stations/R19.json":$s,"../Stations/R20.json":ws,"../Stations/R21.json":Ws,"../Stations/R22.json":xs,"../Stations/R23.json":Hs,"../Stations/R24.json":Es,"../Stations/R25.json":Is,"../Stations/R26.json":Ns,"../Stations/R27.json":ks,"../Stations/R28.json":qs});for(const[s,a]of Object.entries(Fs)){const s=a.default,t=As(s.StationCode);t&&zs[t]&&zs[t].stations.push(s)}for(const s of Object.values(zs))s.stations.sort(((s,a)=>{const t=s=>{var a;return parseInt((null==(a=s.match(/\d+/))?void 0:a[0])||"0")};return t(s.StationCode)-t(a.StationCode)}))}catch(Fs){}}();export{Ks as a,As as b,Js as f,Fs as g};
