const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/search.Dl283LNl.js","assets/js/vendor.NdT1UefR.js","assets/js/FavoritesView.CocWkgyr.js","assets/js/core.BsJsY7pZ.js","assets/js/MapView.DmfoKfqY.js"])))=>i.map(i=>d[i]);
import{d as e,m as t,p as n,r as o,o as a,k as r,i as s,c as i,f as l,b as c,q as u,j as d,F as m,e as p,s as f,x as h,y as v,z as y,A as _}from"./vendor.NdT1UefR.js";import{g,f as b,a as E,b as w}from"./search.Dl283LNl.js";import{_ as L,a as S}from"./core.BsJsY7pZ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const P=e({__name:"App",setup:e=>(n(),(e,n)=>{const r=o("router-view");return a(),t(r)})}),j={},V=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=e?.nonce||e?.getAttribute("nonce");o=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in j)return;j[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,n&&a.setAttribute("nonce",n),document.head.appendChild(a),t?new Promise(((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then((t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)}))},k={class:"page-container safe-area"},x={class:"page-content",role:"main"},A={"aria-label":"站點搜尋"},O={key:0,"aria-label":"捷運路線"},C={key:1,class:"space-y-3","aria-label":"站點列表"},T={key:2,class:"text-center py-12","aria-label":"提示訊息"},I=e({__name:"HomeView",setup(e){const n=r(""),o=r([]),h=r([]),v=g(),y=s((()=>h.value.length>0?h.value:o.value));function _(e){const t=y.value.find((t=>t.StationCode===e));return t?.LineColor||w(e)}async function P(e){try{n.value=e,o.value=await b(e)}catch(t){o.value=[]}}const j=f({loader:()=>V((()=>import("./search.Dl283LNl.js").then((e=>e.L))),__vite__mapDeps([0,1])),suspensible:!1,timeout:5e3}),I=f({loader:()=>V((()=>import("./search.Dl283LNl.js").then((e=>e.S))),__vite__mapDeps([0,1])),suspensible:!1,timeout:5e3}),D=f({loader:()=>V((()=>import("./search.Dl283LNl.js").then((e=>e.d))),__vite__mapDeps([0,1])),suspensible:!1,timeout:5e3});return(e,o)=>(a(),i("div",k,[l(L),c("main",x,[c("section",A,[l(u(D),{stations:h.value,"onUpdate:stations":o[0]||(o[0]=e=>h.value=e)},null,8,["stations"])]),h.value.length?d("",!0):(a(),i("section",O,[l(u(j),{lines:u(v),modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=e=>n.value=e),onSelect:P},null,8,["lines","modelValue"])])),y.value.length?(a(),i("section",C,[(a(!0),i(m,null,p(y.value,(e=>(a(),t(u(I),{key:e.StationCode,station:e,"line-color":_(e.StationCode),"next-trains":u(E)(e.StationCode),onToggleFavorite:t=>{e.StationCode}},null,8,["station","line-color","next-trains","onToggleFavorite"])))),128))])):0!==h.value.length||n.value?d("",!0):(a(),i("section",T,o[2]||(o[2]=[c("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[c("i",{class:"fas fa-subway text-2xl text-gray-400","aria-hidden":"true"})],-1),c("p",{class:"text-gray-500"},"請搜尋站點或選擇捷運路線",-1)])))]),l(S)]))}}),D=h({history:v(),routes:[{path:"/",name:"home",component:I},{path:"/favorites",name:"favorites",component:()=>V((()=>import("./FavoritesView.CocWkgyr.js")),__vite__mapDeps([2,0,1,3]))},{path:"/map",name:"map",component:()=>V((()=>import("./MapView.DmfoKfqY.js")),__vite__mapDeps([4,3,1]))}]}),R=y(),q=_(P);q.use(R),q.use(D),q.mount("#app");
