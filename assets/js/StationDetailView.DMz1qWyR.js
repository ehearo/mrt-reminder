import{r as t,d as a,e,k as s,y as i,p as l,C as n,D as v,E as d,S as o,u as r,U as f,F as c,J as u,q as g,x as m}from"./vendor.C-oNdmMQ.js";import{b as x,c as b,M as y,d as p}from"./index.CoYwZ4UM.js";const h="favorite-stations";const w={class:"page-container safe-area"},$={class:"page-content"},B={key:0,class:"text-center"},I={key:1,class:"text-center text-red-500"},k={key:2,class:"px-4"},F={class:"bg-white rounded-lg shadow-lg p-6 mb-4"},M={class:"flex items-center gap-4 mb-4"},W={class:"text-3xl font-bold"},L={class:"text-gray-600"},C={class:"bg-white rounded-lg shadow-lg p-6 mb-16"},O={class:"text-xl font-semibold mb-4"},S={key:0,class:"text-gray-500 text-center py-4"},D={key:1,class:"space-y-4"},T={class:"font-medium"},_={class:"text-sm"},j={class:"text-2xl font-bold"},E={class:"text-base font-normal"},G=p(a({__name:"StationDetailView",setup(a){const p=g(),{t:G}=x(),{isFavorite:J,toggleFavorite:R}=function(){const a=t((()=>{const t=localStorage.getItem(h);return t?JSON.parse(t):[]})());return{favorites:a,isFavorite:t=>a.value.includes(t),toggleFavorite:t=>{const e=a.value.indexOf(t);var s;-1===e?a.value.push(t):a.value.splice(e,1),s=a.value,localStorage.setItem(h,JSON.stringify(s))}}}(),N=t(p.params.id),q=t(!0),P=t(!1),U=t([]),V=e((()=>({BL:"blue",R:"red",G:"green",O:"orange"}[N.value.substring(0,2)]||"")));b({title:`${G(`station.names.${N.value}`)} | Metro Taipei`});const z=t=>t<=1?G("station.arriving"):G("station.time.minute",{n:t});return s((async()=>{try{await new Promise((t=>setTimeout(t,1e3))),U.value=[{destination:"BL23",timeInMinutes:1},{destination:"BL01",timeInMinutes:3},{destination:"BL23",timeInMinutes:8},{destination:"BL01",timeInMinutes:12}],q.value=!1}catch(t){P.value=!0,q.value=!1}})),(t,a)=>(m(),i("div",w,[l(y),n("main",$,[q.value?(m(),i("div",B,v(t.$t("common.loading")),1)):P.value?(m(),i("div",I,v(t.$t("common.error")),1)):(m(),i("div",k,[n("div",F,[n("div",M,[n("div",{class:d(["w-3 h-12 rounded",{"bg-[#0070BD]":N.value.startsWith("BL"),"bg-[#E3002C]":N.value.startsWith("R"),"bg-[#008659]":N.value.startsWith("G"),"bg-[#F8B61C]":N.value.startsWith("O")}])},null,2),n("div",null,[n("h1",W,v(t.$t(`station.names.${N.value}`)),1),n("div",L,[n("span",{class:d(["inline-block px-2 py-1 rounded text-white text-sm mr-2",{"bg-[#0070BD]":N.value.startsWith("BL"),"bg-[#E3002C]":N.value.startsWith("R"),"bg-[#008659]":N.value.startsWith("G"),"bg-[#F8B61C]":N.value.startsWith("O")}])},v(N.value),3),o(" "+v(t.$t(`line.names.${V.value}`)),1)])])]),n("button",{onClick:a[0]||(a[0]=t=>r(R)(N.value)),class:d(["flex items-center gap-2 px-4 py-2 rounded-lg transition-colors",r(J)(N.value)?"bg-yellow-100 text-yellow-700":"bg-gray-100 hover:bg-gray-200"])},[n("i",{class:d(["fas",(r(J)(N.value),"fa-star")])},null,2),o(" "+v(r(J)(N.value)?t.$t("station.removeFromFavorites"):t.$t("station.addToFavorites")),1)],2)]),a[1]||(a[1]=f('<div class="bg-white rounded-lg shadow-lg p-6 mb-4" data-v-f2665f80><h2 class="text-xl font-semibold mb-4" data-v-f2665f80>站點資訊</h2><div class="space-y-4" data-v-f2665f80><div class="flex items-center gap-4" data-v-f2665f80><i class="fas fa-clock text-gray-400 w-6" data-v-f2665f80></i><div data-v-f2665f80><div class="text-sm text-gray-500" data-v-f2665f80>首末班車時間</div><div data-v-f2665f80>首班車 06:00 / 末班車 00:00</div></div></div><div class="flex items-center gap-4" data-v-f2665f80><i class="fas fa-elevator text-gray-400 w-6" data-v-f2665f80></i><div data-v-f2665f80><div class="text-sm text-gray-500" data-v-f2665f80>無障礙設施</div><div data-v-f2665f80>電梯、輪椅坡道、愛心鈴</div></div></div><div class="flex items-center gap-4" data-v-f2665f80><i class="fas fa-toilet text-gray-400 w-6" data-v-f2665f80></i><div data-v-f2665f80><div class="text-sm text-gray-500" data-v-f2665f80>車站設施</div><div data-v-f2665f80>哺集乳室、廁所、飲水機</div></div></div><div class="flex items-center gap-4" data-v-f2665f80><i class="fas fa-store text-gray-400 w-6" data-v-f2665f80></i><div data-v-f2665f80><div class="text-sm text-gray-500" data-v-f2665f80>便利設施</div><div data-v-f2665f80>便利商店、提款機</div></div></div></div></div>',1)),n("div",C,[n("h2",O,v(t.$t("station.arrivals")),1),U.value.length?(m(),i("div",D,[(m(!0),i(c,null,u(U.value,((a,e)=>{return m(),i("div",{key:e,class:d(["flex items-center justify-between p-4 rounded-lg",(s=a.timeInMinutes,s<=1?"bg-green-100 text-green-800":s<=3?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800")])},[n("div",null,[n("div",T,v(t.$t("station.towards",{destination:t.$t(`station.names.${a.destination}`)})),1),n("div",_,v(z(a.timeInMinutes)),1)]),n("div",j,[o(v(a.timeInMinutes)+" ",1),n("span",E,v(t.$t("station.time.minute",{n:a.timeInMinutes})),1)])],2);var s})),128))])):(m(),i("div",S,v(t.$t("station.noTrains")),1))])]))])]))}}),[["__scopeId","data-v-f2665f80"]]);export{G as default};
