import{d as e,aV as t,h as a,bc as s,bd as l,c as n,f as o,a as i,be as r,bf as c,bg as u,b8 as d,F as v,e as f,o as m,bh as p,u as y}from"./index.DhSyqQvB.js";import{g,f as x,a as b,b as w}from"./utils.CBfaoZ5n.js";import{_ as h,M as _,a as S,b as C}from"./components.FzneSbDo.js";const j={class:"page-container safe-area"},k={class:"page-content"},V={class:"mb-6 relative"},F={key:0,class:"mb-6"},M={key:1,class:"space-y-3"},I={key:2,class:"text-center py-12"},O={key:3,class:"text-center py-12"},T=e({__name:"HomeView",setup(e){const y=t(""),w=t([]),T=t(""),L=g(),z=a((()=>{const e=T.value.toLowerCase().trim();return e?w.value.filter((t=>t.StationName.toLowerCase().includes(e)||t.StationCode.toLowerCase().includes(e))):w.value})),B=a((()=>{const e=L.find((e=>e.id===y.value));return(null==e?void 0:e.color)||"#000000"}));async function P(e){y.value=e,w.value=await x(e),T.value=""}let U;return s((()=>{U=window.setInterval((()=>{w.value.length>0&&(w.value=[...w.value])}),3e4)})),l((()=>{U&&window.clearInterval(U)})),(e,t)=>(m(),n("div",j,[o(_),i("main",k,[i("div",V,[r(i("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>T.value=e),type:"text",placeholder:"    搜尋站點",class:"input pl-14 pr-12 placeholder:pl-1"},null,512),[[c,T.value]]),t[4]||(t[4]=i("div",{class:"absolute left-5 top-0 bottom-0 flex items-center justify-center w-4"},[i("i",{class:"fas fa-search text-gray-400"})],-1)),T.value?(m(),n("button",{key:0,onClick:t[1]||(t[1]=e=>T.value=""),class:"absolute right-4 top-0 bottom-0 flex items-center justify-center w-8"},t[3]||(t[3]=[i("i",{class:"fas fa-times text-gray-400 hover:text-gray-600"},null,-1)]))):u("",!0)]),T.value?u("",!0):(m(),n("div",F,[o(h,{lines:d(L),modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=e=>y.value=e),onSelect:P},null,8,["lines","modelValue"])])),y.value?(m(),n("div",M,[(m(!0),n(v,null,f(z.value,(e=>(m(),p(S,{key:e.StationCode,station:e,"line-color":B.value,"next-trains":d(b)(e.StationCode),onToggleFavorite:t=>{e.StationCode}},null,8,["station","line-color","next-trains","onToggleFavorite"])))),128))])):T.value&&!z.value.length?(m(),n("div",I,t[5]||(t[5]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-search text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"找不到符合的站點",-1)]))):(m(),n("div",O,t[6]||(t[6]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-subway text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"請選擇捷運路線以查看即時資訊",-1)])))]),o(C)]))}}),L={class:"page-container safe-area"},z={class:"page-content"},B={key:0,class:"space-y-3"},P={key:1,class:"text-center py-12"},U=e({__name:"FavoritesView",setup(e){const t=y(),r=a((()=>t.getFavoriteStations)),c={red:"#E3002C",blue:"#0070BD",green:"#008659",orange:"#F8B61C","":"#000000"};function u(e){const t=w(e);return c[t]}let g;return s((()=>{g=window.setInterval((()=>{r.value.length>0&&t.$patch({stations:[...t.stations]})}),3e4)})),l((()=>{g&&window.clearInterval(g)})),(e,t)=>(m(),n("div",L,[o(_),i("main",z,[r.value.length?(m(),n("div",B,[(m(!0),n(v,null,f(r.value,(e=>(m(),p(S,{key:e.StationCode,station:e,"line-color":u(e.StationCode),"next-trains":d(b)(e.StationCode)},null,8,["station","line-color","next-trains"])))),128))])):(m(),n("div",P,t[0]||(t[0]=[i("div",{class:"bg-white rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[i("i",{class:"fas fa-star text-2xl text-gray-400"})],-1),i("p",{class:"text-gray-500"},"尚未收藏任何站點",-1)])))]),o(C)]))}}),D=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),E={class:"min-h-screen bg-gray-50 safe-area"},H=e({__name:"MapView",setup:e=>(e,t)=>(m(),n("div",E,[o(_),t[0]||(t[0]=i("main",{class:"metro-content"},[i("div",{class:"text-center py-12"},[i("p",{class:"text-gray-500"},"路線圖功能開發中...")])],-1)),o(C)]))}),N=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{D as F,N as M,T as _};
